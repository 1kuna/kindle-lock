# kindle-lock Docker Configuration
# Copy this file to .env and fill in your values
#
# Usage:
#   cp .env.docker.example .env
#   nano .env  # Edit values
#   docker compose --profile <your-choice> up -d

# =============================================
# Amazon Credentials (required for initial login)
# =============================================
# These are only used during the initial login flow.
# After login, session is persisted in the browser profile.
AMAZON_EMAIL=your-email@example.com
AMAZON_PASSWORD=your-password

# =============================================
# API Security (REQUIRED for production!)
# =============================================
# Generate a secure key with: openssl rand -hex 32
# This key is required by the iOS app to authenticate.
API_SECRET_KEY=change-me-in-production

# =============================================
# Reading Goal Settings
# =============================================
# Number of Kindle pages to read before apps unlock
DAILY_PAGE_GOAL=30

# Hour when the daily counter resets (24-hour format, local time)
# Default 4 = 4:00 AM, so reading after midnight counts for "today"
DAY_RESET_HOUR=4

# How often to check Kindle for new reading progress (minutes)
SCRAPE_INTERVAL_MINUTES=30

# =============================================
# Remote Access - Choose ONE option below
# =============================================

# ----- Option 1: Cloudflare Tunnel -----
# Free, works behind NAT/firewalls, provides HTTPS
#
# Setup:
#   1. Go to https://one.dash.cloudflare.com/
#   2. Create tunnel: Access -> Tunnels -> Create
#   3. Name it "kindle-lock" and copy the token
#   4. Add public hostname (e.g., kindle.yourdomain.com)
#      pointing to http://kindle-lock:8080
#
# CLOUDFLARE_TUNNEL_TOKEN=eyJhIjoiYWJjMTIz...

# ----- Option 2: Tailscale -----
# Mesh VPN, access from any device on your tailnet
#
# Setup:
#   1. Go to https://login.tailscale.com/admin/settings/keys
#   2. Create auth key (enable "Reusable" for easier restarts)
#   3. Access at https://kindle-lock.<tailnet-name>.ts.net
#
# TAILSCALE_AUTHKEY=tskey-auth-...

# ----- Option 3: Direct Port Exposure -----
# Use with your own reverse proxy (nginx, Caddy, Traefik)
# or add to an existing Cloudflare/Tailscale tunnel.
#
# Default port is 8080, change if needed:
# API_EXPOSE_PORT=8080

# =============================================
# Advanced Settings (usually don't need to change)
# =============================================
# BROWSER_HEADLESS=true
# KINDLE_SETUP_MODE=false
