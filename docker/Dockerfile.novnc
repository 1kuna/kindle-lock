# Lightweight noVNC container for web-based VNC access
# Used only during initial Amazon login setup

FROM python:3.11-slim

RUN apt-get update && apt-get install -y --no-install-recommends \
    novnc \
    websockify \
    && rm -rf /var/lib/apt/lists/*

# noVNC serves on 6080, connects to main container's VNC on 5901
EXPOSE 6080

# websockify bridges HTTP->VNC
# kindle-lock is the Docker Compose service name
CMD ["websockify", "--web", "/usr/share/novnc/", "6080", "kindle-lock:5901"]
